import{_ as C,d as L,f as k,G as v,a as x,b,c as D,D as T,E as f,r as n,e as P,o as i,g as s,h as o,F as N,i as R,j as t,w as c,k as S,l as G,n as B,t as _,m as V,p as E}from"./index.861b23b8.js";const M={components:{Document:L,Folder:k},data(){return{topfileList:[],currentPath:null,tableData:[],selectedRows:[],downData:[],loading:!0}},mounted(){this.getConfigMap()},methods:{getConfigMap(){v().then(e=>{this.currentPath=e.PanID,this.getTopList(),this.getFileList()})},getTopList(){x(this.currentPath).then(e=>{this.topfileList=e})},getFileList(){this.loading=!0,b(this.currentPath).then(e=>{this.tableData=e,this.loading=!1})},handleClick(e){D(this.currentPath,e).then(p=>{this.currentPath=p,this.getTopList(),this.getFileList()})},handleSelectionChange(e){this.downData=e},handleRowClick(e){e.FileType==="\u6587\u4EF6\u5939"&&(this.currentPath=e.FilePath,this.getTopList(),this.getFileList())},downFile(){this.loading=!0,T(this.downData).then(e=>{this.loading=!1,e===-1&&f.error("\u5355\u6B21\u63D0\u4EA4\u4E0B\u8F7D\u6587\u4EF6\u4E2A\u6570\u6700\u5927\u4E3A500,\u60A8\u5DF2\u8D85\u9650"),e===-2&&f.error("\u6BCF\u5206\u949F\u5355\u6B21\u8BF7\u6C42\u8D85\u9650,\u8BF7\u4E00\u5206\u949F\u540E\u91CD\u8BD5")})}}},z={class:"container"},j={class:"top"},I={style:{float:"left",flex:"1"}},O={style:{position:"relative","margin-top":"15px",float:"left","margin-left":"15px","margin-bottom":"3px"}},q=["onClick"],A={key:0,style:{"margin-right":"3px"}},H={style:{width:"100px",flex:"1","margin-top":"10px"}},J={class:"bottom"},K={key:0},Q={style:{"margin-left":"10px"}},U={key:1},W={style:{"margin-left":"10px"}};function X(e,p,Y,Z,a,h){const g=n("el-button"),r=n("el-table-column"),m=n("Folder"),u=n("el-icon"),w=n("Document"),F=n("el-table"),y=P("loading");return i(),s("div",z,[o("div",j,[o("div",I,[o("div",O,[(i(!0),s(N,null,R(a.topfileList,(l,d)=>(i(),s("span",{key:d,onClick:$=>h.handleClick(l)},[o("span",{class:B({"other-letter":d!==a.topfileList.length-1})},_(l),3),d!==a.topfileList.length-1?(i(),s("span",A,">")):V("",!0)],8,q))),128))])]),o("div",H,[t(g,{onClick:h.downFile},{default:c(()=>[E("\u4E0B\u8F7D\u5185\u5BB9")]),_:1},8,["onClick"])])]),o("div",J,[S((i(),G(F,{ref:"multipleTableRef",data:a.tableData,style:{width:"100%"},onRowClick:h.handleRowClick,onSelectionChange:h.handleSelectionChange},{default:c(()=>[t(r,{type:"selection",width:"10px"}),t(r,{label:"\u6587\u4EF6\u540D"},{default:c(l=>[l.row.FileType==="\u6587\u4EF6\u5939"?(i(),s("div",K,[t(u,null,{default:c(()=>[t(m)]),_:1}),o("span",Q,_(l.row.FileName),1)])):(i(),s("div",U,[t(u,null,{default:c(()=>[t(w)]),_:1}),o("span",W,_(l.row.FileName),1)]))]),_:1}),t(r,{property:"FileType",label:"\u6587\u4EF6\u7C7B\u578B",width:"100px"}),t(r,{property:"FileSize",label:"\u6587\u4EF6\u5927\u5C0F",width:"100px"}),t(r,{property:"FileTime",label:"\u4FEE\u6539\u65F6\u95F4",width:"180px","show-overflow-tooltip":""})]),_:1},8,["data","onRowClick","onSelectionChange"])),[[y,a.loading]])])])}const te=C(M,[["render",X]]);export{te as default};
